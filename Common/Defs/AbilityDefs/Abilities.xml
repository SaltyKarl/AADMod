<?xml version="1.0" encoding="UTF-8"?>
<Defs>

    <VFECore.Abilities.AbilityDef>
        <defName>AAD_AmbushPortal</defName>
        <label>Ambush portal</label>
        <description>Use the gate network to move, Behind the target pawn, will stun if targeted enemy.</description>
        <abilityClass>AADMod.Ability_Portal</abilityClass>
        <iconPath>UI/Abilities/AmbushPortal</iconPath>
        <castTime>60</castTime>
        <cooldownTime>5000</cooldownTime>
        <needsTicking>true</needsTicking>
        <showUndrafted>true</showUndrafted>
        <range>45</range>
        <targetingParameters>
            <canTargetLocations>false</canTargetLocations>
            <canTargetPawns>true</canTargetPawns>
        </targetingParameters>
        <modExtensions>
            <li Class="AADMod.PortalExtension">
                <teleportCaster>true</teleportCaster>
            </li>
        </modExtensions>
    </VFECore.Abilities.AbilityDef>

    <VFECore.Abilities.AbilityDef>
        <defName>AAD_DeployShieldRecharger</defName>
        <label>Deploy shield recharger</label>
        <description>Deploy shield recharger via the iconian gateway.</description>
        <abilityClass>AADMod.Ability_Portal</abilityClass>
        <iconPath>UI/Abilities/DeployShieldRecharger</iconPath>
        <castTime>60</castTime>
        <cooldownTime>5000</cooldownTime>
        <needsTicking>true</needsTicking>
        <showUndrafted>true</showUndrafted>
        <range>45</range>
        <targetingParameters>
            <canTargetLocations>true</canTargetLocations>
        </targetingParameters>
        <modExtensions>
            <li Class="AADMod.PortalExtension">
                <allowedBuildings>
                    <li MayRequire="kentington.saveourship2">ShipHullTileWrecked</li>
                    <li MayRequire="kentington.saveourship2">ShipHullTile</li>
                    <li MayRequire="kentington.saveourship2">ShipHullTileMech</li>
                    <li MayRequire="kentington.saveourship2">ShipHullTileArchotech</li>
                </allowedBuildings>
                <thingDef>AAD_ShieldRegen</thingDef>
                <count>1</count>
            </li>
        </modExtensions>
    </VFECore.Abilities.AbilityDef>

    <VFECore.Abilities.AbilityDef>
        <defName>AAD_DeploySolarBeamTurret</defName>
        <label>Deploy solar turret</label>
        <description>Deploy a powerful solar turret via the iconian gateway.</description>
        <abilityClass>AADMod.Ability_Portal</abilityClass>
        <iconPath>UI/Abilities/DeploySolarBeamTurret</iconPath>
        <castTime>60</castTime>
        <cooldownTime>180000</cooldownTime>
        <needsTicking>true</needsTicking>
        <showUndrafted>true</showUndrafted>
        <range>45</range>
        <targetingParameters>
            <canTargetLocations>true</canTargetLocations>
        </targetingParameters>
        <modExtensions>
            <li Class="AADMod.PortalExtension">
                <allowedBuildings>
                    <li MayRequire="kentington.saveourship2">ShipHullTileWrecked</li>
                    <li MayRequire="kentington.saveourship2">ShipHullTile</li>
                    <li MayRequire="kentington.saveourship2">ShipHullTileMech</li>
                    <li MayRequire="kentington.saveourship2">ShipHullTileArchotech</li>
                </allowedBuildings>
                <thingDef>AAD_SolarBeamTurret</thingDef>
                <count>1</count>
            </li>
        </modExtensions>
    </VFECore.Abilities.AbilityDef>

    <VFECore.Abilities.AbilityDef>
        <defName>AAD_DeployAntiprotonMines</defName>
        <label>Deploy antiproton mines</label>
        <description>Deploy antiproton mines via the iconian gateway.</description>
        <abilityClass>AADMod.Ability_Portal</abilityClass>
        <iconPath>UI/Abilities/DeployAntiprotonMines</iconPath>
        <castTime>60</castTime>
        <cooldownTime>20000</cooldownTime>
        <needsTicking>true</needsTicking>
        <showUndrafted>true</showUndrafted>
        <range>45</range>
        <targetingParameters>
            <canTargetLocations>true</canTargetLocations>
        </targetingParameters>
        <modExtensions>
            <li Class="AADMod.PortalExtension">
                <allowedBuildings>
                    <li MayRequire="kentington.saveourship2">ShipHullTileWrecked</li>
                    <li MayRequire="kentington.saveourship2">ShipHullTile</li>
                    <li MayRequire="kentington.saveourship2">ShipHullTileMech</li>
                    <li MayRequire="kentington.saveourship2">ShipHullTileArchotech</li>
                </allowedBuildings>
                <thingDef>AAD_APMine</thingDef>
                <count>5</count>
                <pattern>
                    <li>(0, 0)</li>
                    <li>(2, 0)</li>
                    <li>(-2, 0)</li>
                    <li>(1, 1)</li>
                    <li>(-1, 1)</li>
                </pattern>
            </li>
        </modExtensions>
    </VFECore.Abilities.AbilityDef>

    <VFECore.Abilities.AbilityDef>
        <defName>AAD_DeployMilitors</defName>
        <label>Deploy Retrofitted Militors</label>
        <description>Deploy Retrofitted Militors via the iconian gateway.</description>
        <abilityClass>AADMod.Ability_Portal</abilityClass>
        <iconPath>UI/Abilities/DeployMilitors</iconPath>
        <castTime>60</castTime>
        <targetMode>Self</targetMode>
        <cooldownTime>300000</cooldownTime>
        <needsTicking>true</needsTicking>
        <showUndrafted>true</showUndrafted>
        <modExtensions>
            <li Class="AADMod.PortalExtension">
                <pawnKind>Mech_MilitorHerald</pawnKind>
                <count>6</count>
                <durationTicks>60000</durationTicks>
            </li>
        </modExtensions>
    </VFECore.Abilities.AbilityDef>

    <VFECore.Abilities.AbilityDef>
        <defName>AAD_DeployPikemen</defName>
        <label>Deploy Retrofitted Pikemen</label>
        <description>Deploy Retrofitted Pikemen via the iconian gateway.</description>
        <abilityClass>AADMod.Ability_Portal</abilityClass>
        <iconPath>UI/Abilities/DeployPikemen</iconPath>
        <castTime>60</castTime>
        <targetMode>Self</targetMode>
        <cooldownTime>420000</cooldownTime>
        <needsTicking>true</needsTicking>
        <showUndrafted>true</showUndrafted>
        <modExtensions>
            <li Class="AADMod.PortalExtension">
                <pawnKind>Mech_PikemanHerald</pawnKind>
                <count>4</count>
                <durationTicks>60000</durationTicks>
            </li>
        </modExtensions>
    </VFECore.Abilities.AbilityDef>

    <VFECore.Abilities.AbilityDef>
        <defName>AAD_DeployCentipedes</defName>
        <label>Deploy Retrofitted Centipedes</label>
        <description>Deploy Retrofitted Centipedes via the iconian gateway.</description>
        <abilityClass>AADMod.Ability_Portal</abilityClass>
        <iconPath>UI/Abilities/DeployCentipedes</iconPath>
        <castTime>60</castTime>
        <targetMode>Self</targetMode>
        <cooldownTime>540000</cooldownTime>
        <needsTicking>true</needsTicking>
        <showUndrafted>true</showUndrafted>
        <modExtensions>
            <li Class="AADMod.PortalExtension">
                <pawnKind>Mech_CentipedeHerald</pawnKind>
                <count>2</count>
                <durationTicks>60000</durationTicks>
            </li>
        </modExtensions>
    </VFECore.Abilities.AbilityDef>

    <VFECore.Abilities.AbilityDef>
        <defName>AAD_DeployDiaboluses</defName>
        <label>Deploy Retrofitted Diaboluses</label>
        <description>Deploy Retrofitted Diaboluses via the iconian gateway.</description>
        <abilityClass>AADMod.Ability_Portal</abilityClass>
        <iconPath>UI/Abilities/DeployDiaboluses</iconPath>
        <castTime>60</castTime>
        <targetMode>Self</targetMode>
        <cooldownTime>660000</cooldownTime>
        <needsTicking>true</needsTicking>
        <showUndrafted>true</showUndrafted>
        <modExtensions>
            <li Class="AADMod.PortalExtension">
                <pawnKind>Mech_DiabolusHerald</pawnKind>
                <count>1</count>
                <durationTicks>60000</durationTicks>
            </li>
        </modExtensions>
    </VFECore.Abilities.AbilityDef>

    <VFECore.Abilities.AbilityDef>
        <defName>AAD_Shockwave</defName>
        <label>Shockwave</label>
        <description>text.todo.</description>
        <abilityClass>AADMod.Ability_Explosion</abilityClass>
        <iconPath>UI/Abilities/Shockwave</iconPath>
        <castTime>60</castTime>
        <range>15</range>
        <targetingParameters>
            <canTargetLocations>true</canTargetLocations>
        </targetingParameters>
        <cooldownTime>2400</cooldownTime>
        <showUndrafted>true</showUndrafted>
        <modExtensions>
            <li Class="AADMod.ExplosionExtension">
                <damageDef>Bomb</damageDef>
                <arc>45</arc>
            </li>
        </modExtensions>
    </VFECore.Abilities.AbilityDef>

    <AbilityDef Name="AAD_Killzone">
        <defName>AAD_Killzone</defName>
        <label>KillZone</label>
        <description>KillZone</description><!--这个应该不用改，炼狱魔王里写的是这个：CastAbilityOnThingWithoutWeapon，看xml只是对显示武器那些做了一些调整-->
        <jobDef>CastAbilityOnThing</jobDef>
        <iconPath>UI/Abilities/BeamSweepIcon_v2</iconPath>
        <cooldownTicksRange>7200</cooldownTicksRange>
        <aiCanUse>true</aiCanUse>
        <ai_SearchAOEForTargets>true</ai_SearchAOEForTargets>
        <targetRequired>true</targetRequired>
        <displayGizmoWhileUndrafted>true</displayGizmoWhileUndrafted>
        <disableGizmoWhileUndrafted>false</disableGizmoWhileUndrafted>
        <showCastingProgressBar>true</showCastingProgressBar>
        <stunTargetWhileCasting>true</stunTargetWhileCasting>
        <verbProperties><!--这个应该不用改-->
            <verbClass>Verb_CastAbility</verbClass>
            <warmupTime>1</warmupTime>
            <drawAimPie>false</drawAimPie>
            <targetParams>
                <canTargetSelf>true</canTargetSelf>
            </targetParams>
        </verbProperties>
        <comps>
            <li Class="AADMod.CompProperties_Ability_Killzone">
                <ZoneRadius>19</ZoneRadius>
                <MoteDef>Mote_AADSolarBeam</MoteDef>
                <beamGroundFleckDef>Fleck_BeamBurn</beamGroundFleckDef>
                <beamEndEffecterDef>GraserBeam_End</beamEndEffecterDef>
                <LaserNum>8</LaserNum>
                <SpawnThingDef>AAD_APTimedBomb</SpawnThingDef>
                <Speed>0.85</Speed>
                <StunDuration>720</StunDuration>
            </li>
        </comps>
    </AbilityDef>

</Defs>
